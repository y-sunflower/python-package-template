# Python package template

<!-- Automatically generated, uses README.qmd to modify README.md -->

A python package template that contains everything you need to:

- **create**
- ~~configure~~
- `test`
- _document_
- <u>deploy</u>

<br>

```
root/
├── package_name/             - Main package directory
│   ├── __init__.py
│   └── main.py/
├── tests/                    - Unit tests
│   ├── __init__.py
│   └── test_main.py
├── docs/                     - Documentation
│   ├── index.md                  - Main page
│   ├── changelog.md              - Changelog file
│   ├── contributing.md           - A contributing guide
│   ├── examples.md               - Usage examples
│   ├── stylesheets/              - CSS for the documentation
│   └── reference/                - API reference of the package
├── .github/workflows/        - CI/CD
│   ├── doc.yaml                  - Deploy website
│   ├── lint.yaml                 - Check code with ruff
│   ├── type.yaml                 - Check static typing with ty
│   ├── tests.yaml                - Run unit tests
│   └── pypi.yaml                 - New PyPI release
├── pyproject.toml            - Configuration, metadata, dependencies
├── README.md                 - Project overview, generated by README.qmd
├── justfile                  - Common commands needed when developing
├── LICENSE                   - License file
├── .gitignore                - Git ignore rules
├── .pre-commit-config.yaml   - Pre commit hooks
├── release.sh                - Trigger PyPI release
└── mkdocs.yaml               - Documentation website configuration
```

<br><br>

## How to use this template

You'll need the following to use this template:

- [Git](https://git-scm.com/): version control
- [uv](https://docs.astral.sh/uv/): package and project manager
- [just](https://github.com/casey/just): a command runner (alternative to make)

### Create a new repo

- Click on `Use this template` and `Create a new repository`
- Clone your repo

```bash
git clone https://github.com/your_name/package_name.git
```

<br>

### Replace with your package info

- Replace **all** `your_name` with your GitHub username or organization
- Replace **all** `package_name` with your actual package
- Rename the `package_name` directory with your actual package
- Replace info in `pyproject.toml`
- Change the `LICENSE` file to your actual license (optional)

<br>

### Initialize the project

```bash
just init
```

<br>

### Run tests

```bash
just test
```

To generate a code coverage badge and see your code coverage, run:

```bash
just coverage
```

<br>

### Documentation website

The documentation is based on [mkdocs material](https://squidfunk.github.io/mkdocs-material/), but feel free to use another framework.

You only have to set up [GitHub Pages](https://pages.github.com/) to the `gh-pages` branch, and `.github/workflows/doc.yaml` will handle the deployment.

- Preview locally:

```bash
just preview
```

- Footer of the site:

The footer of the documentation website is defined in `overrides/partials/footer.html`. If you don't know HTML/CSS, chatGPT can help you here!

- Change main color:

In `docs/stylesheets/style.css`, change the color value to change the overall style of site:

```css
:root {
  --primary-color: #0096c7;
}
```

<br>

### Make a new PyPI release

New PyPI releases are made via 2 scripts:

- `release.sh`
  - When you run `./release.sh 1.0.0` (to release the 1.0.0 version, for instance), it will commit, tag that commit and push.

- `.github/workflows/pypi.yaml`
  - When a git tag matching `v1.2.3` format is pushed, it will make a new PyPI release (in short).

This relies on [trusted publishing](https://docs.pypi.org/trusted-publishers/), which you need to configure. This step is important (on security aspects), so make sure you understand what is happening. Feel free to spend some time reading the scripts and the official documentation.

Since the distribution of new versions is reserved for a few people, feel free to remove it from the git tracker with:

```bash
git rm --cached release.sh
```

If you don't plan to make PyPI releases, just delete `release.sh` and `.github/workflows/pypi.yaml`.

<br> <br>

Still have some questions? Open an [issue](https://github.com/y-sunflower/python-package-template/issues)!
