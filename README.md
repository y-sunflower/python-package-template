# Python package template


<!-- Automatically generated, uses README.qmd to modify README.md -->

A python package template that contains everything you need to:

- **create**
- ~~configure~~
- `test`
- *document*
- <u>deploy</u>

<br>

    root/
    ├── package_name/             - Main package directory
    │   ├── __init__.py
    │   └── main.py/
    ├── tests/                    - Unit tests
    │   ├── __init__.py
    │   └── test_main.py
    ├── docs/                     - Documentation
    │   ├── index.md                  - Main page
    │   ├── contributing.md           - A contributing guide
    │   ├── examples.md               - Usage examples
    │   ├── stylesheets/              - CSS for the documentation
    │   └── reference/                - API reference of the package
    ├── .github/workflows/        - CI/CD
    │   ├── doc.yaml                  - Deploy website
    │   ├── lint.yaml                 - Check code with ruff
    │   ├── tests.yaml                - Run unit tests
    │   └── pypi.yaml                 - New PyPI release
    ├── pyproject.toml            - Configuration, metadata, dependencies
    ├── README.qmd                - Quarto document that generates README.md
    ├── README.md                 - Project overview, generated by README.qmd
    ├── LICENSE                   - License file
    ├── .gitignore                - Git ignore rules
    ├── .pre-commit-config.yaml   - Pre commit hooks
    ├── mkdocs.yaml               - Documentation configuration
    └── release.sh                - Make a release on PyPI

<br><br>

## How to use this template

### Create a new repo

- Click on `Use this template` and `Create a new repository`
- Clone your repo

``` bash
git clone https://github.com/your_name/package_name.git
```

### Replace with your package info

- Replace **all** `your_name` with your GitHub username or organization
- Replace **all** `package_name` with your actual package
- Replace info in `pyproject.toml`
- Change the `LICENSE` file to your actual license (optional)

### Install dependencies

``` bash
uv sync --all-extras --dev
uv pip install -e .
uv run pre-commit install
```

### Run tests

``` bash
uv run pytest
```

### Documentation website

The documentation is based on
[mkdocstrings](https://mkdocstrings.github.io/), but feel free to use
another framework.

You only have to set up [GitHub Pages](https://pages.github.com/)
(free), and `.github/workflows/doc.yaml` will handle the deployment.

- Preview locally:

``` bash
uv run mkdocs serve
```

### Make a new PyPI release

New PyPI releases are made via 2 scripts:

- `release.sh`

  - When you run `./release.sh 1.0.0` (to release the 1.0.0 version, for
    instance), it will commit, tag that commit and push.

- `.github/workflows/pypi.yaml`

  - When a git tag matching `v1.2.3` format is pushed, it will make a
    new PyPI release (in short).

This relies on [trusted
publishing](https://docs.pypi.org/trusted-publishers/), which you need
to configure. This step is important, so make sure you understand what
is happening. Feel free to spend some time reading the scripts and the
official documentation.

### Update the README

The `README.md` file is dynamically generated by `README.qmd`, a [Quarto
document](https://quarto.org/).

This is optional (you can use a plain `README.md`), but it has many
benefits:

- it is just markdown too
- there are [lots of customization
  options](https://quarto.org/docs/authoring/markdown-basics.html)
- you can include code (for example, dynamic content)

``` python
from package_name import add_digit

# The output here is not hardcoded
print(add_digit(2, 5))
```

    7

It works perfectly well with most IDEs. You can install Quarto
[here](https://quarto.org/docs/get-started/).

<br> <br>

Still have some questions? Open an
[issue](https://github.com/y-sunflower/template-python-package/issues)!
